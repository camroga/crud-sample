package service;import dao.CustomerDao;import dao.LocationDao;import dao.jpa.CustomerPersistence;import dao.jpa.LocationPersistence;import dto.CustomerDto;import entity.Location;import exception.DataNotFoundException;import exception.ServiceException;import javax.faces.bean.SessionScoped;import javax.inject.Named;import java.util.ArrayList;import java.util.List;@SessionScoped@Namedpublic class CustomerService implements Customer {    public String getData() {        String data;        try {            data = this.find();        } catch (DataNotFoundException ex) {            throw ex;        } catch (Exception ex) {            throw new ServiceException(ex);        }        return data;    }    public String find() {        CustomerDao customerDao = new CustomerPersistence();        LocationDao locationDao = new LocationPersistence();        List<CustomerDto> customersDto = new ArrayList<>();        List<entity.Customer> customers = customerDao.getCustomers();        customers.stream().forEach(customer -> {            Location location = locationDao.getLocation(customer.getId());            CustomerDto customerDto = new CustomerDto();            customerDto.setFirstName(customer.getFirstName());            customerDto.setSurname(customer.getSurname());            customerDto.setDob(location.getCity() + location.getPostCode());            customerDto.setStreetAddress(location.getStreetAddress());            customersDto.add(customerDto);        });        return customersDto.toString();    }}